import seaborn as sns
import pandas as pd
import matplotlib.pyplot as plt
import scipy.stats as stats
xname = "Iterations"
yname = "Mean return"
Hue = "Experiment"
sns.set_theme()

def data():
    hopper_medium = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 5,
                     'Experiment': ['Emb = 128', ] * 50,
                     'Mean return': [1859.804665204311, 1837.9996388197612, 1953.6680811481378, 2210.738138707444,
                                     2041.4117609485409, 2179.5786037144935, 2109.241610885004, 2135.456658147526,
                                     2236.1526192185497, 2240.877187882299, 1553.1210530923697, 1682.247506042878,
                                     1810.520192630538, 1676.3729897207495, 2161.188785776537, 1837.8295300877041,
                                     1959.4078970045507, 1746.0207255718976, 1985.307056046958, 2082.6088482109476,
                                     1424.919733565525, 1478.8681819265403, 1922.8529673099395, 1793.245402764083,
                                     1731.5376020890806, 2069.6170586076664, 1797.9344567712944, 1741.4466612711,
                                     1904.0475928309374, 1888.080759291623, 1354.150395552294, 1729.5143049965648,
                                     1627.667420595084, 1978.8906468277676, 1739.8230976432105, 2002.001611128075,
                                     1892.6305627642892, 1995.8990930609548, 2102.4062348189036, 2197.5527427432676,
                                     1553.1210530923697, 1682.247506042878, 1810.520192630538, 1676.3729897207495,
                                     2161.188785776537, 1837.8295300877041, 1959.4078970045507, 1746.0207255718976,
                                     1985.307056046958, 2082.6088482109476]}

    df_hop_med = pd.DataFrame(hopper_medium)

    embed32 = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                     'Experiment': ['Emb = 32', ] * 30,
                     'Mean return': [1406.6735480498219,1862.818531825285,1507.5107394356612,1618.9647133158971,1489.741053724957,1646.2723436018462,1663.5653300759059,1943.5153846574924,1886.9267350132202,1723.8863182337666,
                                     390.6261999140848,1555.0532081995175,1659.8572147395912,1321.0654524050165,1716.4778362671857,1342.8106478274424,1646.2597326154,1772.4120576305268,1352.2477607856624,1740.7321959231754,
                                     658.564885427402,1280.5006572040845,1369.0308171293152,1464.8670726844177,1337.0791763197806,1251.9519978242993,1237.6238018067284,1291.7282096150532,1340.5226630580187,1496.9751993911268]}

    df_emb32 = pd.DataFrame(embed32)
    dfemb = pd.concat([df_hop_med,df_emb32], ignore_index=True)
    hopper_medium = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 5,
                     'Experiment': ['N-layer = 3', ] * 50,
                     'Mean return': [1859.804665204311, 1837.9996388197612, 1953.6680811481378, 2210.738138707444,
                                     2041.4117609485409, 2179.5786037144935, 2109.241610885004, 2135.456658147526,
                                     2236.1526192185497, 2240.877187882299, 1553.1210530923697, 1682.247506042878,
                                     1810.520192630538, 1676.3729897207495, 2161.188785776537, 1837.8295300877041,
                                     1959.4078970045507, 1746.0207255718976, 1985.307056046958, 2082.6088482109476,
                                     1424.919733565525, 1478.8681819265403, 1922.8529673099395, 1793.245402764083,
                                     1731.5376020890806, 2069.6170586076664, 1797.9344567712944, 1741.4466612711,
                                     1904.0475928309374, 1888.080759291623, 1354.150395552294, 1729.5143049965648,
                                     1627.667420595084, 1978.8906468277676, 1739.8230976432105, 2002.001611128075,
                                     1892.6305627642892, 1995.8990930609548, 2102.4062348189036, 2197.5527427432676,
                                     1553.1210530923697, 1682.247506042878, 1810.520192630538, 1676.3729897207495,
                                     2161.188785776537, 1837.8295300877041, 1959.4078970045507, 1746.0207255718976,
                                     1985.307056046958, 2082.6088482109476]}
    df_hop_med = pd.DataFrame(hopper_medium)
    hopper_nlayer1 = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                     'Experiment': ['N-layer = 1', ] * 30,
                     'Mean return': [1324.8764179526036, 1486.3195532838627, 1727.3422168594263, 1772.6555094137564, 1667.022199466885, 1781.4612387879095, 1727.1922913052226, 1416.076472034045, 1490.4316496815081, 1556.6003360274772,
                                     1258.976226208621,1749.2777231816058,1574.7692686281405,1519.4044085407936,1756.1961855837394,1683.8148325056623,1763.1305588916082,2134.224462208991,1825.9200589904365,1513.398527098047,
                                     1414.9620992778757,1610.869162137964,1629.258381538441,1745.4969042044322,1656.683632111396,1708.650732516632,1688.8932842478287,1451.7446706289638,1802.4422090599357,1715.7535693268885]}
    dfnlayer = pd.DataFrame(hopper_nlayer1)
    dfnlayer1 = pd.concat([df_hop_med,dfnlayer], ignore_index=True)
    hopper_medium = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 5,
                     'Experiment': ['Original DT', ] * 50,
                     'Mean return': [1859.804665204311, 1837.9996388197612, 1953.6680811481378, 2210.738138707444,
                                     2041.4117609485409, 2179.5786037144935, 2109.241610885004, 2135.456658147526,
                                     2236.1526192185497, 2240.877187882299, 1553.1210530923697, 1682.247506042878,
                                     1810.520192630538, 1676.3729897207495, 2161.188785776537, 1837.8295300877041,
                                     1959.4078970045507, 1746.0207255718976, 1985.307056046958, 2082.6088482109476,
                                     1424.919733565525, 1478.8681819265403, 1922.8529673099395, 1793.245402764083,
                                     1731.5376020890806, 2069.6170586076664, 1797.9344567712944, 1741.4466612711,
                                     1904.0475928309374, 1888.080759291623, 1354.150395552294, 1729.5143049965648,
                                     1627.667420595084, 1978.8906468277676, 1739.8230976432105, 2002.001611128075,
                                     1892.6305627642892, 1995.8990930609548, 2102.4062348189036, 2197.5527427432676,
                                     1553.1210530923697, 1682.247506042878, 1810.520192630538, 1676.3729897207495,
                                     2161.188785776537, 1837.8295300877041, 1959.4078970045507, 1746.0207255718976,
                                     1985.307056046958, 2082.6088482109476]}
    df_hop_med = pd.DataFrame(hopper_medium)
    hopper_mindt = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                      'Experiment': ['Minimum DT', ] * 30,
                      'Mean return': [250.12378689774403,1456.4507829187748,1111.72079866519,1762.856067629367,1355.7399761988643,1318.9966613164786,1542.4961287115125,1255.596126096905,1365.0376325624284,1340.1102168342213,
                                      220.0319396679766,1148.4111140249445,872.2300546266534,1008.1851710239793,1273.963294387672,1379.015735459281,1615.944364441793,1251.413717718331,1301.4336330847157,1427.377734489547,
                                      357.0947944669367,1040.0626067075182,1301.1592069777143,1382.2740879763408, 1588.3549194664586,1805.9100712870538,1835.7447286473691,917.1823324860864,1875.205117897479,1664.9020483236538]}
    dfmindt = pd.DataFrame(hopper_mindt)
    dfmindtall = pd.concat([df_hop_med, dfmindt], ignore_index=True)
    return dfmindtall,dfnlayer1,dfemb
##########K=1,5,20
def contextlength():
    hopper_medium= {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*5,
            'Experiment': ['K = 20', ]*50,
            'Mean return':[1859.804665204311,1837.9996388197612,1953.6680811481378,2210.738138707444,2041.4117609485409,2179.5786037144935,2109.241610885004,2135.456658147526,2236.1526192185497,2240.877187882299,1553.1210530923697,1682.247506042878,1810.520192630538,1676.3729897207495,2161.188785776537,1837.8295300877041,1959.4078970045507,1746.0207255718976,1985.307056046958,2082.6088482109476,1424.919733565525,1478.8681819265403,1922.8529673099395,1793.245402764083,1731.5376020890806,2069.6170586076664,1797.9344567712944,1741.4466612711,1904.0475928309374,1888.080759291623,1354.150395552294,1729.5143049965648,1627.667420595084 ,1978.8906468277676 ,1739.8230976432105 ,2002.001611128075 ,1892.6305627642892 ,1995.8990930609548 ,2102.4062348189036 ,2197.5527427432676 ,1553.1210530923697 ,1682.247506042878 ,1810.520192630538,1676.3729897207495 ,2161.188785776537 ,1837.8295300877041 ,1959.4078970045507 ,1746.0207255718976 ,1985.307056046958 ,2082.6088482109476]}

    df_hop_med = pd.DataFrame(hopper_medium)

    budget_k5 = {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*3,
            'Experiment': ['K = 5', ]*30,
            'Mean return':[929.889915580866,1267.8534715781657,1347.0512460314549,1543.764168925626,2186.2697099800716,1528.4027689522961,1251.122708583105,1833.6964970612507,1794.3719624843113,1758.1931213482885,
                           1485.4159154408353,1691.0873850169307,1277.3686626547974,1719.1778401001013,1759.5570404938312,2007.7914476232281,1882.2976783638771,1623.7984028847595,2051.27295315548,1388.8685049692026,
                           1882.7095825151587,1710.488235227296,2101.318711083558,1743.4641779281321,1406.8824779287932,1514.3695689051121,1526.1721483650754,1643.3041808099958,1531.5176334070075,1554.256295111927]}
    df_k5 = pd.DataFrame(budget_k5)
    datahoppercontext1 = {'Iterations':['1', '2', '3', '4', '5', '6', '7', '8', '9', '10']*3,
                         'Experiment':['K = 1',]*30,
                         'Mean return':[1446.427381513132,1960.5035928371872,1489.470048374079,1383.6296712793185,1665.965345582064,
                                         2107.0242538259718,1933.8261302498381,1550.5193196775197,1733.8663468684829,1651.1515142563803,
                                         2263.932541025879,1330.33039027659,1396.373019364958,1955.849212704823,1926.0722404255587,
                                         1554.880785644492,1791.5081008736881,2012.323439869138,1847.4784833242477,1655.3673663175623,
                                         2438.6452938384614,1402.7939983657584,1630.2687564032321,1418.5316679417624,2077.8000003901393,
                                         1045.7599517575554,1496.9321694844787,1923.9866657322802,1855.3003743077577,
                                         2302.383151428203]}
    df_k1 = pd.DataFrame(datahoppercontext1)
    dfcontextlength = pd.concat([df_hop_med,df_k5,df_k1], ignore_index=True)
    print(dfcontextlength)
    sns.lineplot(data=dfcontextlength, x=xname, y=yname, hue=Hue).set(title='Hopper context length budget transformer')  # style="event")
    plt.show()
#contextlength()

def stat():
    hopper_medium = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 5,
                     'Experiment': ['K = 20', ] * 50,
                     'Mean return': [1859.804665204311, 1837.9996388197612, 1953.6680811481378, 2210.738138707444,
                                     2041.4117609485409, 2179.5786037144935, 2109.241610885004, 2135.456658147526,
                                     2236.1526192185497, 2240.877187882299, 1553.1210530923697, 1682.247506042878,
                                     1810.520192630538, 1676.3729897207495, 2161.188785776537, 1837.8295300877041,
                                     1959.4078970045507, 1746.0207255718976, 1985.307056046958, 2082.6088482109476,
                                     1424.919733565525, 1478.8681819265403, 1922.8529673099395, 1793.245402764083,
                                     1731.5376020890806, 2069.6170586076664, 1797.9344567712944, 1741.4466612711,
                                     1904.0475928309374, 1888.080759291623, 1354.150395552294, 1729.5143049965648,
                                     1627.667420595084, 1978.8906468277676, 1739.8230976432105, 2002.001611128075,
                                     1892.6305627642892, 1995.8990930609548, 2102.4062348189036, 2197.5527427432676,
                                     1553.1210530923697, 1682.247506042878, 1810.520192630538, 1676.3729897207495,
                                     2161.188785776537, 1837.8295300877041, 1959.4078970045507, 1746.0207255718976,
                                     1985.307056046958, 2082.6088482109476]}

    df_hop_med = pd.DataFrame(hopper_medium)
    budget_k5 = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                 'Experiment': ['K = 5', ] * 30,
                 'Mean return': [929.889915580866, 1267.8534715781657, 1347.0512460314549, 1543.764168925626,
                                 2186.2697099800716, 1528.4027689522961, 1251.122708583105, 1833.6964970612507,
                                 1794.3719624843113, 1758.1931213482885,
                                 1485.4159154408353, 1691.0873850169307, 1277.3686626547974, 1719.1778401001013,
                                 1759.5570404938312, 2007.7914476232281, 1882.2976783638771, 1623.7984028847595,
                                 2051.27295315548, 1388.8685049692026,
                                 1882.7095825151587, 1710.488235227296, 2101.318711083558, 1743.4641779281321,
                                 1406.8824779287932, 1514.3695689051121, 1526.1721483650754, 1643.3041808099958,
                                 1531.5176334070075, 1554.256295111927]}
    df_k5 = pd.DataFrame(budget_k5)
    datahoppercontext1 = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'] * 3,
                          'Experiment': ['K = 1', ] * 30,
                          'Mean return': [1446.427381513132, 1960.5035928371872, 1489.470048374079, 1383.6296712793185,
                                          1665.965345582064,
                                          2107.0242538259718, 1933.8261302498381, 1550.5193196775197,
                                          1733.8663468684829, 1651.1515142563803,
                                          2263.932541025879, 1330.33039027659, 1396.373019364958, 1955.849212704823,
                                          1926.0722404255587,
                                          1554.880785644492, 1791.5081008736881, 2012.323439869138, 1847.4784833242477,
                                          1655.3673663175623,
                                          2438.6452938384614, 1402.7939983657584, 1630.2687564032321,
                                          1418.5316679417624, 2077.8000003901393,
                                          1045.7599517575554, 1496.9321694844787, 1923.9866657322802,
                                          1855.3003743077577,
                                          2302.383151428203]}
    df_k1 = pd.DataFrame(datahoppercontext1)
    df_k1_last = df_k1[df_k1["Iterations"] == '10']
    df_k5_last = df_k5[df_k5["Iterations"] == '10']
    df_hop_med = df_hop_med[df_hop_med["Iterations"] == '10']

    print("hopper original vs hopper k=1", stats.ttest_ind(df_hop_med['Mean return'], df_k1_last['Mean return'],equal_var= False))
    print("hopper original vs hopper k=5",stats.ttest_ind(df_hop_med['Mean return'], df_k5_last['Mean return'], equal_var=False))

    df_hop_med = pd.DataFrame(hopper_medium)

    embed32 = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                     'Experiment': ['Emb = 32', ] * 30,
                     'Mean return': [1406.6735480498219,1862.818531825285,1507.5107394356612,1618.9647133158971,1489.741053724957,1646.2723436018462,1663.5653300759059,1943.5153846574924,1886.9267350132202,1723.8863182337666,
                                     390.6261999140848,1555.0532081995175,1659.8572147395912,1321.0654524050165,1716.4778362671857,1342.8106478274424,1646.2597326154,1772.4120576305268,1352.2477607856624,1740.7321959231754,
                                     658.564885427402,1280.5006572040845,1369.0308171293152,1464.8670726844177,1337.0791763197806,1251.9519978242993,1237.6238018067284,1291.7282096150532,1340.5226630580187,1496.9751993911268]}

    df_emb32 = pd.DataFrame(embed32)
    df_emb32_last = df_emb32[df_emb32["Iterations"] == '10']

    print("hopper original vs hopper emb = 32",stats.ttest_ind(df_hop_med['Mean return'], df_emb32_last['Mean return'], equal_var=False))

    hopper_nlayer1 = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                     'Experiment': ['N-layer = 1', ] * 30,
                     'Mean return': [1324.8764179526036, 1486.3195532838627, 1727.3422168594263, 1772.6555094137564, 1667.022199466885, 1781.4612387879095, 1727.1922913052226, 1416.076472034045, 1490.4316496815081, 1556.6003360274772,
                                     1258.976226208621,1749.2777231816058,1574.7692686281405,1519.4044085407936,1756.1961855837394,1683.8148325056623,1763.1305588916082,2134.224462208991,1825.9200589904365,1513.398527098047,
                                     1414.9620992778757,1610.869162137964,1629.258381538441,1745.4969042044322,1656.683632111396,1708.650732516632,1688.8932842478287,1451.7446706289638,1802.4422090599357,1715.7535693268885]}
    df_nlayer = pd.DataFrame(hopper_nlayer1)
    df_nlayer_last = df_nlayer[df_nlayer["Iterations"] == '10']
    print("hopper original vs hopper nlayer 1",stats.ttest_ind(df_hop_med['Mean return'], df_nlayer_last['Mean return'], equal_var=False))


    hopper_mindt = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                    'Experiment': ['Minimum DT', ] * 30,
                    'Mean return': [250.12378689774403, 1456.4507829187748, 1111.72079866519, 1762.856067629367,
                                    1355.7399761988643, 1318.9966613164786, 1542.4961287115125, 1255.596126096905,
                                    1365.0376325624284, 1340.1102168342213,
                                    220.0319396679766, 1148.4111140249445, 872.2300546266534, 1008.1851710239793,
                                    1273.963294387672, 1379.015735459281, 1615.944364441793, 1251.413717718331,
                                    1301.4336330847157, 1427.377734489547,
                                    357.0947944669367, 1040.0626067075182, 1301.1592069777143, 1382.2740879763408,
                                    1588.3549194664586, 1805.9100712870538, 1835.7447286473691, 917.1823324860864,
                                    1875.205117897479, 1664.9020483236538]}
    dfmindt = pd.DataFrame(hopper_mindt)
    df_mindt_last = dfmindt[dfmindt["Iterations"] == '10']
    print("hopper original vs hopper min dt",stats.ttest_ind(df_hop_med['Mean return'], df_mindt_last['Mean return'], equal_var=False))

    print("hopper k=1 vs k=5 dt",stats.ttest_ind(df_k1_last['Mean return'], df_k5_last['Mean return'], equal_var=False))


    print("mean hopper medium =" + str(df_hop_med['Mean return'].mean())+ " variance =" +str(df_hop_med['Mean return'].std()))
    print("mean embedding=" + str(df_emb32_last['Mean return'].mean())+ " variance =" +str(df_emb32_last['Mean return'].std()))
    print("mean k =1 =" + str(df_k1_last['Mean return'].mean())+ " variance =" +str(df_k1_last['Mean return'].std()))
    print("mean k =5 =" + str(df_k5_last['Mean return'].mean())+ " variance =" +str(df_k5_last['Mean return'].std()))

    print("mean nlayer =" + str(df_nlayer_last['Mean return'].mean())+ " variance =" +str(df_nlayer_last['Mean return'].std()))
    print("mean min dt =" + str(df_mindt_last['Mean return'].mean())+ " variance =" +str(df_mindt_last['Mean return'].std()))
stat()
def embedding32():
    hopper_medium = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 5,
                     'Experiment': ['Emb = 128', ] * 50,
                     'Mean return': [1859.804665204311, 1837.9996388197612, 1953.6680811481378, 2210.738138707444,
                                     2041.4117609485409, 2179.5786037144935, 2109.241610885004, 2135.456658147526,
                                     2236.1526192185497, 2240.877187882299, 1553.1210530923697, 1682.247506042878,
                                     1810.520192630538, 1676.3729897207495, 2161.188785776537, 1837.8295300877041,
                                     1959.4078970045507, 1746.0207255718976, 1985.307056046958, 2082.6088482109476,
                                     1424.919733565525, 1478.8681819265403, 1922.8529673099395, 1793.245402764083,
                                     1731.5376020890806, 2069.6170586076664, 1797.9344567712944, 1741.4466612711,
                                     1904.0475928309374, 1888.080759291623, 1354.150395552294, 1729.5143049965648,
                                     1627.667420595084, 1978.8906468277676, 1739.8230976432105, 2002.001611128075,
                                     1892.6305627642892, 1995.8990930609548, 2102.4062348189036, 2197.5527427432676,
                                     1553.1210530923697, 1682.247506042878, 1810.520192630538, 1676.3729897207495,
                                     2161.188785776537, 1837.8295300877041, 1959.4078970045507, 1746.0207255718976,
                                     1985.307056046958, 2082.6088482109476]}

    df_hop_med = pd.DataFrame(hopper_medium)

    embed32 = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                     'Experiment': ['Emb = 32', ] * 30,
                     'Mean return': [1406.6735480498219,1862.818531825285,1507.5107394356612,1618.9647133158971,1489.741053724957,1646.2723436018462,1663.5653300759059,1943.5153846574924,1886.9267350132202,1723.8863182337666,
                                     390.6261999140848,1555.0532081995175,1659.8572147395912,1321.0654524050165,1716.4778362671857,1342.8106478274424,1646.2597326154,1772.4120576305268,1352.2477607856624,1740.7321959231754,
                                     658.564885427402,1280.5006572040845,1369.0308171293152,1464.8670726844177,1337.0791763197806,1251.9519978242993,1237.6238018067284,1291.7282096150532,1340.5226630580187,1496.9751993911268]}

    df_emb32 = pd.DataFrame(embed32)
    dfemb = pd.concat([df_hop_med,df_emb32], ignore_index=True)
    sns.lineplot(data=dfemb, x=xname, y=yname, hue=Hue).set(title='Hopper embedding budget transformer')  # style="event")
    plt.show()
#embedding32()
def nlayer1():
    hopper_medium = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 5,
                     'Experiment': ['N-layer = 3', ] * 50,
                     'Mean return': [1859.804665204311, 1837.9996388197612, 1953.6680811481378, 2210.738138707444,
                                     2041.4117609485409, 2179.5786037144935, 2109.241610885004, 2135.456658147526,
                                     2236.1526192185497, 2240.877187882299, 1553.1210530923697, 1682.247506042878,
                                     1810.520192630538, 1676.3729897207495, 2161.188785776537, 1837.8295300877041,
                                     1959.4078970045507, 1746.0207255718976, 1985.307056046958, 2082.6088482109476,
                                     1424.919733565525, 1478.8681819265403, 1922.8529673099395, 1793.245402764083,
                                     1731.5376020890806, 2069.6170586076664, 1797.9344567712944, 1741.4466612711,
                                     1904.0475928309374, 1888.080759291623, 1354.150395552294, 1729.5143049965648,
                                     1627.667420595084, 1978.8906468277676, 1739.8230976432105, 2002.001611128075,
                                     1892.6305627642892, 1995.8990930609548, 2102.4062348189036, 2197.5527427432676,
                                     1553.1210530923697, 1682.247506042878, 1810.520192630538, 1676.3729897207495,
                                     2161.188785776537, 1837.8295300877041, 1959.4078970045507, 1746.0207255718976,
                                     1985.307056046958, 2082.6088482109476]}
    df_hop_med = pd.DataFrame(hopper_medium)
    hopper_nlayer1 = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                     'Experiment': ['N-layer = 1', ] * 30,
                     'Mean return': [1324.8764179526036, 1486.3195532838627, 1727.3422168594263, 1772.6555094137564, 1667.022199466885, 1781.4612387879095, 1727.1922913052226, 1416.076472034045, 1490.4316496815081, 1556.6003360274772,
                                     1258.976226208621,1749.2777231816058,1574.7692686281405,1519.4044085407936,1756.1961855837394,1683.8148325056623,1763.1305588916082,2134.224462208991,1825.9200589904365,1513.398527098047,
                                     1414.9620992778757,1610.869162137964,1629.258381538441,1745.4969042044322,1656.683632111396,1708.650732516632,1688.8932842478287,1451.7446706289638,1802.4422090599357,1715.7535693268885]}
    dfnlayer = pd.DataFrame(hopper_nlayer1)
    dfnlayer1 = pd.concat([df_hop_med,dfnlayer], ignore_index=True)
    sns.lineplot(data=dfnlayer1, x=xname, y=yname, hue=Hue).set(title='Hopper n-layer budget transformer')  # style="event")
    plt.show()
#nlayer1()
def minbudget():
    hopper_medium = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 5,
                     'Experiment': ['Original DT', ] * 50,
                     'Mean return': [1859.804665204311, 1837.9996388197612, 1953.6680811481378, 2210.738138707444,
                                     2041.4117609485409, 2179.5786037144935, 2109.241610885004, 2135.456658147526,
                                     2236.1526192185497, 2240.877187882299, 1553.1210530923697, 1682.247506042878,
                                     1810.520192630538, 1676.3729897207495, 2161.188785776537, 1837.8295300877041,
                                     1959.4078970045507, 1746.0207255718976, 1985.307056046958, 2082.6088482109476,
                                     1424.919733565525, 1478.8681819265403, 1922.8529673099395, 1793.245402764083,
                                     1731.5376020890806, 2069.6170586076664, 1797.9344567712944, 1741.4466612711,
                                     1904.0475928309374, 1888.080759291623, 1354.150395552294, 1729.5143049965648,
                                     1627.667420595084, 1978.8906468277676, 1739.8230976432105, 2002.001611128075,
                                     1892.6305627642892, 1995.8990930609548, 2102.4062348189036, 2197.5527427432676,
                                     1553.1210530923697, 1682.247506042878, 1810.520192630538, 1676.3729897207495,
                                     2161.188785776537, 1837.8295300877041, 1959.4078970045507, 1746.0207255718976,
                                     1985.307056046958, 2082.6088482109476]}
    df_hop_med = pd.DataFrame(hopper_medium)
    hopper_mindt = {'Iterations': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', ] * 3,
                      'Experiment': ['Minimum DT', ] * 30,
                      'Mean return': [250.12378689774403,1456.4507829187748,1111.72079866519,1762.856067629367,1355.7399761988643,1318.9966613164786,1542.4961287115125,1255.596126096905,1365.0376325624284,1340.1102168342213,
                                      220.0319396679766,1148.4111140249445,872.2300546266534,1008.1851710239793,1273.963294387672,1379.015735459281,1615.944364441793,1251.413717718331,1301.4336330847157,1427.377734489547,
                                      357.0947944669367,1040.0626067075182,1301.1592069777143,1382.2740879763408, 1588.3549194664586,1805.9100712870538,1835.7447286473691,917.1823324860864,1875.205117897479,1664.9020483236538]}
    dfmindt = pd.DataFrame(hopper_mindt)
    dfmindtall = pd.concat([df_hop_med, dfmindt], ignore_index=True)
    sns.lineplot(data=dfmindtall, x=xname, y=yname, hue=Hue).set(title='Hopper minimum budget transformer')  # style="event")
    plt.show()
#minbudget()

def barplot():
    hopper_medium= {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*5,
            'Experiment': ['K = 20', ]*50,
            'Mean return':[1859.804665204311,1837.9996388197612,1953.6680811481378,2210.738138707444,2041.4117609485409,2179.5786037144935,2109.241610885004,2135.456658147526,2236.1526192185497,2240.877187882299,1553.1210530923697,1682.247506042878,1810.520192630538,1676.3729897207495,2161.188785776537,1837.8295300877041,1959.4078970045507,1746.0207255718976,1985.307056046958,2082.6088482109476,1424.919733565525,1478.8681819265403,1922.8529673099395,1793.245402764083,1731.5376020890806,2069.6170586076664,1797.9344567712944,1741.4466612711,1904.0475928309374,1888.080759291623,1354.150395552294,1729.5143049965648,1627.667420595084 ,1978.8906468277676 ,1739.8230976432105 ,2002.001611128075 ,1892.6305627642892 ,1995.8990930609548 ,2102.4062348189036 ,2197.5527427432676 ,1553.1210530923697 ,1682.247506042878 ,1810.520192630538,1676.3729897207495 ,2161.188785776537 ,1837.8295300877041 ,1959.4078970045507 ,1746.0207255718976 ,1985.307056046958 ,2082.6088482109476]}

    df_hop_med = pd.DataFrame(hopper_medium)

    budget_k5 = {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*3,
            'Experiment': ['K = 5', ]*30,
            'Mean return':[929.889915580866,1267.8534715781657,1347.0512460314549,1543.764168925626,2186.2697099800716,1528.4027689522961,1251.122708583105,1833.6964970612507,1794.3719624843113,1758.1931213482885,
                           1485.4159154408353,1691.0873850169307,1277.3686626547974,1719.1778401001013,1759.5570404938312,2007.7914476232281,1882.2976783638771,1623.7984028847595,2051.27295315548,1388.8685049692026,
                           1882.7095825151587,1710.488235227296,2101.318711083558,1743.4641779281321,1406.8824779287932,1514.3695689051121,1526.1721483650754,1643.3041808099958,1531.5176334070075,1554.256295111927]}
    df_k5 = pd.DataFrame(budget_k5)
    datahoppercontext1 = {'Iterations':['1', '2', '3', '4', '5', '6', '7', '8', '9', '10']*3,
                         'Experiment':['K = 1',]*30,
                         'Mean return':[1446.427381513132,1960.5035928371872,1489.470048374079,1383.6296712793185,1665.965345582064,
                                         2107.0242538259718,1933.8261302498381,1550.5193196775197,1733.8663468684829,1651.1515142563803,
                                         2263.932541025879,1330.33039027659,1396.373019364958,1955.849212704823,1926.0722404255587,
                                         1554.880785644492,1791.5081008736881,2012.323439869138,1847.4784833242477,1655.3673663175623,
                                         2438.6452938384614,1402.7939983657584,1630.2687564032321,1418.5316679417624,2077.8000003901393,
                                         1045.7599517575554,1496.9321694844787,1923.9866657322802,1855.3003743077577,
                                         2302.383151428203]}
    df_k1 = pd.DataFrame(datahoppercontext1)
    dfcontextlength = pd.concat([df_hop_med,df_k5,df_k1], ignore_index=True)
    ax = sns.barplot(x="Experiment", y="Mean return", data=dfcontextlength).set(title='Bar plot of context length')
    plt.show()

    dfmindtall,dfnlayer1,dfemb = data()
    ax = sns.barplot(x="Experiment", y="Mean return", data=dfmindtall).set(title='Bar plot of minimum DT')
    plt.show()
    ax = sns.barplot(x="Experiment", y="Mean return", data=dfnlayer1).set(title='Bar plot of N-layer')
    plt.show()
    ax = sns.barplot(x="Experiment", y="Mean return", data=dfemb).set(title='Bar plot of embedding size')
    plt.show()

barplot()