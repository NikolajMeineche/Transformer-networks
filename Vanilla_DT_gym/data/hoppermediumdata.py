import seaborn as sns
import pandas as pd
import matplotlib.pyplot as plt
xname = "Iterations"
yname = "Mean return"
Hue = "Experiment"
sns.set_theme()

# hopper medium for 3600 original
normalwandb= {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*5,
        'Experiment': ['K = 20', ]*50,
        'Mean return':[1859.804665204311,1837.9996388197612,1953.6680811481378,2210.738138707444,2041.4117609485409,2179.5786037144935,2109.241610885004,2135.456658147526,2236.1526192185497,2240.877187882299,1553.1210530923697,1682.247506042878,1810.520192630538,1676.3729897207495,2161.188785776537,1837.8295300877041,1959.4078970045507,1746.0207255718976,1985.307056046958,2082.6088482109476,1424.919733565525,1478.8681819265403,1922.8529673099395,1793.245402764083,1731.5376020890806,2069.6170586076664,1797.9344567712944,1741.4466612711,1904.0475928309374,1888.080759291623,1354.150395552294,1729.5143049965648,1627.667420595084 ,1978.8906468277676 ,1739.8230976432105 ,2002.001611128075 ,1892.6305627642892 ,1995.8990930609548 ,2102.4062348189036 ,2197.5527427432676 ,1553.1210530923697 ,1682.247506042878 ,1810.520192630538,1676.3729897207495 ,2161.188785776537 ,1837.8295300877041 ,1959.4078970045507 ,1746.0207255718976 ,1985.307056046958 ,2082.6088482109476]}
normalwandbnlayer= {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*5,
        'Experiment': ['N-Layer = 3', ]*50,
        'Mean return':[1859.804665204311,1837.9996388197612,1953.6680811481378,2210.738138707444,2041.4117609485409,2179.5786037144935,2109.241610885004,2135.456658147526,2236.1526192185497,2240.877187882299,1553.1210530923697,1682.247506042878,1810.520192630538,1676.3729897207495,2161.188785776537,1837.8295300877041,1959.4078970045507,1746.0207255718976,1985.307056046958,2082.6088482109476,1424.919733565525,1478.8681819265403,1922.8529673099395,1793.245402764083,1731.5376020890806,2069.6170586076664,1797.9344567712944,1741.4466612711,1904.0475928309374,1888.080759291623,1354.150395552294,1729.5143049965648,1627.667420595084 ,1978.8906468277676 ,1739.8230976432105 ,2002.001611128075 ,1892.6305627642892 ,1995.8990930609548 ,2102.4062348189036 ,2197.5527427432676 ,1553.1210530923697 ,1682.247506042878 ,1810.520192630538,1676.3729897207495 ,2161.188785776537 ,1837.8295300877041 ,1959.4078970045507 ,1746.0207255718976 ,1985.307056046958 ,2082.6088482109476]}
dfori_nlayer = pd.DataFrame(normalwandbnlayer)
normalwandbmaxb= {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*5,
        'Experiment': ['No budget', ]*50,
        'Mean return':[1859.804665204311,1837.9996388197612,1953.6680811481378,2210.738138707444,2041.4117609485409,2179.5786037144935,2109.241610885004,2135.456658147526,2236.1526192185497,2240.877187882299,1553.1210530923697,1682.247506042878,1810.520192630538,1676.3729897207495,2161.188785776537,1837.8295300877041,1959.4078970045507,1746.0207255718976,1985.307056046958,2082.6088482109476,1424.919733565525,1478.8681819265403,1922.8529673099395,1793.245402764083,1731.5376020890806,2069.6170586076664,1797.9344567712944,1741.4466612711,1904.0475928309374,1888.080759291623,1354.150395552294,1729.5143049965648,1627.667420595084 ,1978.8906468277676 ,1739.8230976432105 ,2002.001611128075 ,1892.6305627642892 ,1995.8990930609548 ,2102.4062348189036 ,2197.5527427432676 ,1553.1210530923697 ,1682.247506042878 ,1810.520192630538,1676.3729897207495 ,2161.188785776537 ,1837.8295300877041 ,1959.4078970045507 ,1746.0207255718976 ,1985.307056046958 ,2082.6088482109476]}
dfori_maxb = pd.DataFrame(normalwandbmaxb)

normalwandbemb= {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*5,
        'Experiment': ['emb = 128', ]*50,
        'Mean return':[1859.804665204311,1837.9996388197612,1953.6680811481378,2210.738138707444,2041.4117609485409,2179.5786037144935,2109.241610885004,2135.456658147526,2236.1526192185497,2240.877187882299,1553.1210530923697,1682.247506042878,1810.520192630538,1676.3729897207495,2161.188785776537,1837.8295300877041,1959.4078970045507,1746.0207255718976,1985.307056046958,2082.6088482109476,1424.919733565525,1478.8681819265403,1922.8529673099395,1793.245402764083,1731.5376020890806,2069.6170586076664,1797.9344567712944,1741.4466612711,1904.0475928309374,1888.080759291623,1354.150395552294,1729.5143049965648,1627.667420595084 ,1978.8906468277676 ,1739.8230976432105 ,2002.001611128075 ,1892.6305627642892 ,1995.8990930609548 ,2102.4062348189036 ,2197.5527427432676 ,1553.1210530923697 ,1682.247506042878 ,1810.520192630538,1676.3729897207495 ,2161.188785776537 ,1837.8295300877041 ,1959.4078970045507 ,1746.0207255718976 ,1985.307056046958 ,2082.6088482109476]}
dfori_emb = pd.DataFrame(normalwandbemb)


datahopperoriginal = {'Iterations': ['1','2','3','4','5','6','7','8','9','10','1','2','3','4','5','6','7','8','9','10','1','2','3','4','5','6','7','8','9','10'],
        'Experiment': ['Hopper m',]*30,
        'Mean return': [475.983369135816, 1265.9764600671524, 1533.055571088503, 1607.4044418529493, 1418.6954620022761,
                        1367.2921447814829, 1051.6138916071095, 1413.088192185612, 1554.1458435221014, 1335.4751943162046,
                        911.2635353405193, 1390.413285128535, 1240.5907638349834, 1428.7947671641743, 1315.4020935534456,
                        1321.8004252760004, 1440.5259446106063, 1277.8744724433875, 1396.0458775485242, 1470.8259555097432,
                        209.06076395927826, 2090.358036266872, 1834.6808732435827, 1588.4113510044951, 1639.8559699457803,
                        1304.0613682677308, 1811.969602636442, 1517.1923486816877, 1396.5886104869464, 1303.2977713661708]}
dfori = pd.DataFrame(normalwandb)



# hopper medium for 3600 emb = 32
datahopperemb32 = {'Iterations': ['1','2','3','4','5','6','7','8','9','10','1','2','3','4','5','6','7','8','9','10','1','2','3','4','5','6','7','8','9','10'],
        'Experiment': ['emb = 32',]*30,
        'Mean return': [1491.3779348403366, 2940.46640035678, 1954.701738118114, 3168.0583595534513, 2982.7953930051776,
                         3165.185623657297, 3475.9346633660984, 3169.754491664949, 3559.1580427550252, 3504.1720223964994,
                         132.78525768415773, 1084.7602833275826, 939.8572122135854, 1373.7755728120194, 1491.5297595499424,
                         1132.1662795176483, 1168.5709176684466, 1294.9319865478908, 950.5667386750542, 1813.186379832631,
                         658.564885427402, 1280.5006572040845, 1369.0308171293152, 1464.8670726844177, 1337.0791763197806,
                         1251.9519978242993, 1237.6238018067284, 1291.7282096150532, 1340.5226630580187, 1496.9751993911268]}
dfhopperemb32 = pd.DataFrame(datahopperemb32)

dfhopperemb32 = pd.concat([dfori_emb,dfhopperemb32], ignore_index=True)

sns.lineplot(data=dfhopperemb32, x=xname, y=yname, hue=Hue).set(title='Hopper embedding budget transformer')# style="event")
plt.show()


# hopper medium for 3600 maxbudget OBS kun to runs vi mangler 1!
datahoppermaxbudget = {'Iterations': ['1','2','3','4','5','6','7','8','9','10','1','2','3','4','5','6','7','8','9','10'],
        'Experiment': ['maxbudget',]*20,
        'Mean return': [250.12378689774403, 1456.4507829187748, 1111.72079866519, 1762.856067629367, 1355.7399761988643,
                         1318.9966613164786, 1542.4961287115125, 1255.596126096905, 1365.0376325624284, 1340.1102168342213,
                         220.0319396679766, 1148.4111140249445, 872.2300546266534, 1008.1851710239793, 1273.963294387672,
                         1379.015735459281, 1615.944364441793, 1251.413717718331, 1301.4336330847157, 1427.377734489547]}
dfhoppermaxbudget = pd.DataFrame(datahoppermaxbudget)
dfhoppermaxbudget = pd.concat([dfori_maxb,dfhoppermaxbudget], ignore_index=True)

sns.lineplot(data=dfhoppermaxbudget, x=xname, y=yname, hue=Hue).set(title='Hopper minimum budget transformer')# style="event")
plt.show()

# hopper medium context K = 1, K = 5, K = 20
datahoppercontext = {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*9,
        'Experiment': ['K = 1','K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1','K = 1','K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1','K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 1', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 5', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20', 'K = 20'],
        'Mean return': [1499.7246023749178,2945.711590649971,2540.943738368363,2303.776939763522,3432.8793051377907,
                        3541.3105299882127,3251.414895268974,3556.023251380025,3424.622120967968,3114.630064545857,
                        1025.62855950034,1353.3495622880148,1889.327619661685,3163.490065488786,3498.639441717859,
                        3292.66255274636,2949.3496193459478,3463.999168116092,3185.5501700057566,1870.0900625173924,
                        626.632379829559,2215.904928172054,1842.332839751956,2707.884272546331,3024.4729048751574,
                        3037.6947092455025,3390.5459293892027,3329.2800494864086,2987.0152697779686,3137.0232749750257,
                        1882.7095825151587,1710.488235227296,2101.318711083558,1743.4641779281321,1406.8824779287932,
                        1514.3695689051121,1526.1721483650754,1643.3041808099958,1531.5176334070075,1554.256295111927,
                        1514.8003767782698,1011.0620682831037,2519.843223950289,3030.778428656436,3530.2705546056263,
                        3436.491993020597,3530.770765791701,2096.0701798978193,3584.8647839056275,1836.854249757958,
                        1274.0359984817956,1862.7801820778893,2087.9354063750475,3140.2769800095334,2821.471405747664,
                        3428.0278806307206,3359.9664332327125,3138.955089810593,3518.8190042218835,3478.943979085928,
                        475.983369135816, 1265.9764600671524, 1533.055571088503, 1607.4044418529493, 1418.6954620022761,
                        1367.2921447814829, 1051.6138916071095, 1413.088192185612, 1554.1458435221014, 1335.4751943162046,
                        911.2635353405193, 1390.413285128535, 1240.5907638349834, 1428.7947671641743, 1315.4020935534456,
                        1321.8004252760004, 1440.5259446106063, 1277.8744724433875, 1396.0458775485242, 1470.8259555097432,
                        209.06076395927826, 2090.358036266872, 1834.6808732435827, 1588.4113510044951, 1639.8559699457803,
                        1304.0613682677308, 1811.969602636442, 1517.1923486816877, 1396.5886104869464, 1303.2977713661708]}
dfcontextlength = pd.DataFrame(datahoppercontext)

index_names = dfcontextlength[dfcontextlength['Experiment'] == 'K = 20'].index

dfcontextlength.drop(index_names, inplace=True)
dfcontextlength = pd.concat([dfcontextlength,dfori], ignore_index=True )
sns.lineplot(data=dfcontextlength, x=xname, y=yname, hue=Hue).set(title='Hopper context length budget transformer')# style="event")
plt.show()

# N-Layer = 1, N-Layer = 3
dfnlayer = {'Iterations':['1','2','3','4','5','6','7','8','9','10',]*5,
        'Experiment': ['N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 1', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', 'N-Layer = 3', ],
        'Mean return':[1324.8764179526036,1486.3195532838627,1727.3422168594263,1772.6555094137564,1667.022199466885,1781.4612387879095,1727.1922913052226,1416.076472034045,1490.4316496815081,1556.6003360274772,1326.4821497826074,1570.9065337445963,1596.509541928742,1536.6409912015472,1762.865227478803,
                        1353.8644828413783,1765.2824777056435,1467.6681479845647,1731.7498605439482,1441.5926289508247,475.983369135816, 1265.9764600671524, 1533.055571088503, 1607.4044418529493, 1418.6954620022761,
                        1367.2921447814829, 1051.6138916071095, 1413.088192185612, 1554.1458435221014, 1335.4751943162046,
                        911.2635353405193, 1390.413285128535, 1240.5907638349834, 1428.7947671641743, 1315.4020935534456,
                        1321.8004252760004, 1440.5259446106063, 1277.8744724433875, 1396.0458775485242, 1470.8259555097432,
                        209.06076395927826, 2090.358036266872, 1834.6808732435827, 1588.4113510044951, 1639.8559699457803,
                        1304.0613682677308, 1811.969602636442, 1517.1923486816877, 1396.5886104869464, 1303.2977713661708]}
dfnlayer = pd.DataFrame(dfnlayer)
index_names = dfnlayer[dfnlayer['Experiment'] == 'N-Layer = 3'].index
dfnlayer.drop(index_names, inplace=True)
dfnlayer = pd.concat([dfnlayer,dfori_nlayer], ignore_index=True )
sns.lineplot(data=dfnlayer, x=xname, y=yname, hue=Hue).set(title='Hopper n-layer budget transformer')# style="event")

plt.show()




"""# Normal Hopper Medium
normalwandb= {'Iterations': ['1','2','3','4','5','6','7','8','9','10',]*5,
        'Experiment': ['K = 20', ]*50,
        'Mean return':[1859.804665204311,1837.9996388197612,1953.6680811481378,2210.738138707444,2041.4117609485409,2179.5786037144935,2109.241610885004,2135.456658147526,2236.1526192185497,2240.877187882299,1553.1210530923697,1682.247506042878,1810.520192630538,1676.3729897207495,2161.188785776537,1837.8295300877041,1959.4078970045507,1746.0207255718976,1985.307056046958,2082.6088482109476,1424.919733565525,1478.8681819265403,1922.8529673099395,1793.245402764083,1731.5376020890806,2069.6170586076664,1797.9344567712944,1741.4466612711,1904.0475928309374,1888.080759291623,1354.150395552294,1729.5143049965648,1627.667420595084 ,1978.8906468277676 ,1739.8230976432105 ,2002.001611128075 ,1892.6305627642892 ,1995.8990930609548 ,2102.4062348189036 ,2197.5527427432676 ,1553.1210530923697 ,1682.247506042878 ,1810.520192630538,1676.3729897207495 ,2161.188785776537 ,1837.8295300877041 ,1959.4078970045507 ,1746.0207255718976 ,1985.307056046958 ,2082.6088482109476]}
dfnormalhopperwandb = pd.DataFrame(normalwandb)
sns.lineplot(data=dfnormalhopperwandb, x=xname, y=yname, hue=Hue).set(title='Hopper normal transformer')# style="event")
plt.show()"""

